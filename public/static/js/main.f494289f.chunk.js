(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(57)},44:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),l=a.n(c),s=a(14),o=(a(44),a(4)),u=a(5),i=a(7),m=a(6),h=a(8),d=a(16),p=a(17),f=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"mt-5"},"Bismillah Ar Rahmaan Ar Raheem",r.a.createElement("nav",{className:"nav justify-content-center"},r.a.createElement(d.b,{className:"btn",to:"/"},"Home"),r.a.createElement(d.b,{className:"btn",to:"/update"},"Add record")))}}]),t}(n.Component),b=a(2),E=a.n(b),v=a(11),y=a(22),g="http://localhost:4000",j=(a(52),function(){var e=Object(v.a)(E.a.mark(function e(t,a){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(g,"/get/").concat(t,"/").concat(a),{method:"GET",mode:"cors"});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()),O=function(){var e=Object(v.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(g,"/save"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},t);case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),x=function(e){return r.a.createElement("div",null,r.a.createElement("p",{className:"home-head"},"Available Balance: ",e.balance.available))},N=function(e){return e.found?r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Month"),r.a.createElement("th",null,"Expenses"),r.a.createElement("th",null,"Funds"),r.a.createElement("th",null,"Closing"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,e.closing.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",null,e.month),r.a.createElement("td",null,e.expenses),r.a.createElement("td",null,e.funds),r.a.createElement("td",null,e.closing),r.a.createElement("td",{className:"d-flex justify-content-around"},r.a.createElement(d.b,{to:"/details/".concat(e.year,"/").concat(e.month),className:"btn btn-primary"},"Details")))}))):null},w=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(y.a)({},t,n))},a.handleSubmit=function(){var e=Object(v.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.setState({isYearFound:!1}),a.props.closing.forEach(function(e){e.year===+a.state.year&&a.setState({isYearFound:!0})});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();var n=new Date;return a.state={isYearFound:!1,year:n.getFullYear()},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getClosing()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"d-flex flex-column justify-content-around"},r.a.createElement(x,{balance:this.props.balance}),r.a.createElement("div",{className:"home-head d-flex justify-content-around"},r.a.createElement("div",null,r.a.createElement("p",{className:"input-p"},"Select year")),r.a.createElement("div",null,r.a.createElement("form",{className:"form-inline",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"number",maxLength:"4",className:"form-control",value:this.state.year,placeholder:"Enter Year",name:"year",onChange:this.handleChange}),r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Search")))),r.a.createElement("div",null,r.a.createElement(N,{found:this.state.isYearFound,year:this.state.year,closing:this.props.closing.filter(function(t){return t.year===+e.state.year})})))}}]),t}(n.Component);var C=Object(s.b)(function(e){return{closing:e.closing,balance:e.balance}},{getByYear:function(e){return function(){var t=Object(v.a)(E.a.mark(function t(a){var n,r;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(g,"/get/").concat(e.year),{method:"GET",mode:"cors"});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,a({type:"GETBYYEAR",payload:r});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},getClosing:function(){return function(){var e=Object(v.a)(E.a.mark(function e(t){var a,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(g,"/get-closing"),{mehtod:"GET",mode:"cors"});case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,t({type:"GETCLOSING",payload:n.closing}),t({type:"GETAVAILABLE",payload:n.available[0]});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(w),S=a(33),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).changePage=function(e){a.setState({currentPage:+e.target.id})},a.state={data:[{date:"2010-04"}],currentPage:1,limit:10},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(E.a.mark(function e(){var t,a,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.month,a=this.props.match.params.year,e.next=4,j(a,t);case 4:n=e.sent,this.setState({data:n});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=this.state.currentPage*this.state.limit,a=t-this.state.limit,n=this.state.data.slice(a,t),c=[],l=1;l<=Math.ceil(this.state.data.length/this.state.limit);l++)c.push(l);return r.a.createElement("div",{className:"d-flex flex-column justify-content-around"},r.a.createElement(x,{balance:this.props.balance}),r.a.createElement(S.CSVLink,{data:this.state.data,filename:"".concat(this.state.data[0].date.substring(0,7),".csv"),className:"btn btn-primary"},"Download"),r.a.createElement("div",{className:"home-head d-flex flex-column justify-content-around"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Type"))),r.a.createElement("tbody",null,n.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.amount),r.a.createElement("td",null,e.type))}))),r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement("p",null,"current page: ",this.state.currentPage),r.a.createElement("ul",{className:"d-flex list-unstyled justify-content-end"},c.map(function(t){return r.a.createElement("li",{className:"mr-3",onClick:e.changePage,id:t,key:t},t)})))))}}]),t}(n.Component);var D=Object(s.b)(function(e){return{closing:e.closing,balance:e.balance}})(k);function T(e){return r.a.createElement("p",null,e.text)}var A=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(y.a)({},t,n))},a.handleSubmit=function(){var e=Object(v.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,O(a.state);case 4:a.setState({description:"",amount:"",type:"credit",success:!0}),setTimeout(function(){return a.setState({success:!1})},2e3),e.next=14;break;case 8:throw e.prev=8,e.t0=e.catch(1),a.setState({failure:!0}),setTimeout(function(){return a.setState({failure:!1})},2e3),console.log(e.t0),e.t0;case 14:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}();var n=new Date,r=n.getMonth()+1>9?n.getMonth()+1:"0".concat(n.getMonth()+1),c=n.getDate()>9?n.getDate():"0".concat(n.getDate());return a.state={redirect:!1,date:"".concat(n.getFullYear(),"-").concat(r,"-").concat(c),description:"",amount:"",type:"credit",success:!1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"home-head d-flex flex-column justify-content-around"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Date of Transaction"),r.a.createElement("input",{type:"date",className:"form-control",name:"date",value:this.state.date,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Type"),r.a.createElement("select",{className:"custom-select",name:"type",onChange:this.handleChange,value:this.state.type},r.a.createElement("option",{value:"credit"},"credit"),r.a.createElement("option",{value:"debit"},"debit")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Few details",name:"description",value:this.state.description,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Amount"),r.a.createElement("input",{type:"number",placeholder:"500",className:"form-control",name:"amount",value:this.state.amount,onChange:this.handleChange})),this.state.failure?r.a.createElement(T,{text:"Something went wrong"}):null,this.state.success?r.a.createElement(T,{text:"Entry Successfull"}):null,r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.handleSubmit},"Save")))}}]),t}(n.Component);var G=Object(s.b)(function(e){return{closing:e.closing,balance:e.balance}})(A),Y=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Copyright \xa9 Mohammed Shoeb Reserved"))}}]),t}(n.Component),L=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement(d.a,null,r.a.createElement("div",{className:"mx-auto d-flex flex-column justify-content-around"},r.a.createElement(f,null),r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",render:function(){return r.a.createElement(C,null)}}),r.a.createElement(p.a,{exact:!0,path:"/details/:year/:month",component:D}),r.a.createElement(p.a,{exact:!0,path:"/update",component:G})),r.a.createElement(Y,null))))}}]),t}(n.Component),M=a(15),B=a(34),F=Object(M.c)({closing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GETCLOSING":return Object.assign([],e,t.payload);default:return e}},balance:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GETAVAILABLE":return Object.assign({},e,t.payload);default:return e}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(56);var P=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||M.d,_=Object(M.e)(F,P(Object(M.a)(B.a)));l.a.render(r.a.createElement(s.a,{store:_},r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.f494289f.chunk.js.map